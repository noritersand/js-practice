<!doctype html>
<html lang="ko">
<head>
  <title>set value in attribute</title>
  <meta charset="utf-8" />
  <link rel="icon" type="image/png" href="/static/images/favicon.png" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="stylesheet" href="/static/styles/normalize.css" />
  <link rel="stylesheet" href="/static/styles/letters.css" />
  <link rel="stylesheet" href="/static/styles/global.css" />
  <script src="/static/lib/jquery/jquery-1.12.4.js"></script>
  <script>
    function setValueInAttribute(element, attrName, target, replacement, separator) {
      separator = separator || ';';
      var attr = $(element).attr(attrName);
      var attrs = attr.split(separator);
      for (let i in attrs) {
        if (attrs[i].indexOf(target) == 0) {
          attrs[i] = replacement;
        }
      }
      $(element).attr(attrName, attrs.join(separator));
    }

    $(function() {
      console.log($('#inpt').attr('data-custom'));
      setValueInAttribute('#inpt', 'data-custom', 'bb', 'bb:98765');
      console.log($('#inpt').attr('data-custom'));
    });
  </script>
</head>

<body>
<main>
  <article>
    <h1>set value in attribute</h1>
    <input type="text" id="inpt" data-custom="aa:123;bb:'qwe';cc:'z1x2'" value="Hello!" />
  </article>
</main>
<footer>
  <a class="back-button" href="/">⬅ 홈으로 돌아가기</a>
</footer>
</body>
</html>
